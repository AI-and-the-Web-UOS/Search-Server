db.createCollection("Website", {
  validator: {
    $jsonSchema: {
      bsonType: "object",
      required: ["title", "content", "added", "url", "vector"],
      properties: {
        title: {
          bsonType: "string",
          description: "Title of the website",
        },
        content: {
          bsonType: "string",
          description: "Content of the website",
        },
        added: {
          bsonType: "date",
          description: "Date the website was added",
        },
        url: {
          bsonType: "string",
          description: "URL of the website",
        },
        vector: {
          bsonType: "array",
          description: "Vector generated by a deep learning model for the title",
        },
        relevance: {
          bsonType: "double",
          description: "Relevance from past views",
        },
      },
    },
  },
});

db.createCollection("Views", {
  validator: {
    $jsonSchema: {
      bsonType: "object",
      required: ["url", "week", "year", "views"],
      properties: {
        url: {
          bsonType: "string",
          description: "URL of the website (foreign key to Website collection)",
        },
        week: {
          bsonType: "int",
          description: "Week of the views",
        },
        year: {
          bsonType: "int",
          description: "Year of the views",
        },
        views: {
          bsonType: "int",
          description: "Number of views",
        },
      },
    },
  },
});